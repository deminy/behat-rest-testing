{"note":"Don't delete this file! It's used internally to help with page regeneration.","body":"# Summary\r\n\r\nThis repo is to help developers to easily understand how to do feature tests with Behat, and to start writing\r\nfeature tests for REST APIs.\r\n\r\nThis is based on [Keith Loy's work](https://github.com/kloy/behat-rest-testing) (which was essential a hard fork of \r\n[Chris Cornutt's work](https://github.com/enygma/behat-fuel-rest)), with following major changes made by me:\r\n\r\n* The best of all: for the project you are working on, you don't have to put this repo into your project or create\r\nfeature tests under this repo. You can always create feature tests under your project, then use this repo to run\r\nthe tests. Thus, both your project and this repo are separated from each other and clean.\r\n* Added sample RESTful services, and changed/added features to test against the services.\r\n* Added samples for closured steps.\r\n* Added samples for closured hooks.\r\n* Removed anything related to PHP framework [Laravel](http://laravel.com/).\r\n\r\nBecause of the heavy changes made above, instead of forking from Keith's repo directly, I created a new repo with same\r\nrepo name.\r\n\r\n# Dependencies\r\n\r\n* [PHP](http://www.php.net) 5.3.0+\r\n* PHP extension [mbstring](http://www.php.net/mbstring) (used by [Behat](http://www.behat.org))\r\n\r\n# Install\r\n\r\nYou will need to download composer.phar and run the install command under the same directory where the 'composer.json'\r\nfile is located:\r\n\r\n```\r\ncurl -s http://getcomposer.org/installer | php && ./composer.phar install\r\n```\r\n\r\n# How to Test\r\n\r\n### 1. Set up and run REST API server.\r\n\r\nYou can have a virtual host set up under Apache, with DocumentRoot set to \"www/\" of this repo and DirectoryIndex set\r\nto \"router.php\". Alternatively, you may consider to use the \r\n[PHP 5.4 built-in web server](http://php.net/manual/en/features.commandline.webserver.php):\r\n\r\n#### 1.1. Install PHP 5.4.\r\n\r\nIf you happen not have PHP 5.4, please download it and use following command to install it:\r\n\r\n```\r\n./configure --prefix=/usr/local/php54\r\nmake\r\nsudo make install\r\n```\r\n\r\n#### 1.2. Start the REST API server.\r\n\r\nTo start the [PHP 5.4 built-in web server](http://php.net/manual/en/features.commandline.webserver.php), please\r\nrun following command:\r\n\r\n```\r\n/usr/local/php54/bin/php -S localhost:8081 www/router.php\r\n```\r\n\r\nThe web server now serves as the REST API server. You can visit URL http://localhost:8081 to see if the server runs\r\nproperly or not (If everything is good, the URL should return string \"OK\" back).\r\n\r\n### 2. Test the sample features.\r\n\r\n#### 2.1. Create the configuration file \"behat.yml\".\r\n\r\nFor the sample test provided, you can create the file by copying directly from file \"behat.yml.dist\" without any\r\nmodifications required.\r\n\r\n#### 2.2. Run the test command.\r\n\r\nNow, run following command to test sample features:\r\n\r\n```\r\nbin/behat\r\n```\r\n\r\nIf everything is good, you should see the out as in following screenshot:\r\n\r\n![the output when running sample tests with Behat](/deminy/behat-rest-testing/blob/master/screenshot.png?raw=true \"\")\r\n\r\n# Create Feature Tests for Your Project\r\n\r\nYou can always create step/hook definitions under the installation of this repo. However, a better way might be to\r\norganize your files like this:\r\n\r\n<pre>\r\n/behat-rest-testing/\r\n     behat.yml\r\n/myProject\r\n    src/\r\n    tests/\r\n        features/\r\n        \tmyProjectFeature.1.feature\r\n        \tmyProjectFeature.2.feature\r\n            steps/\r\n                myProjectSteps.1.php\r\n                myProjectSteps.2.php\r\n                // ......\r\n            support/\r\n                myProjectHooks.1.php    \r\n                myProjectHooks.2.php\r\n                // ......\r\n</pre>\r\n\r\nYour put your step/hook definitions under folder \"/myProject/tests/features\", and have paths defined in the\r\nconfiguration file \"/behat-rest-testing/behat.yml\". Then, you can call command \"/behat-rest-testing/bin/behat\" to test\r\nyour REST APIs.\r\n\r\n# TODOs\r\n\r\n* Allow to add project-related .feature files outside the repo.\r\n* Support different environments (development, QA, staging, production, etc).\r\n\r\n# Known Limitations\r\n\r\n* Not allow to add project-related .feature files outside the repo.\r\n* The code may not work under Windows platforms.\r\n\r\n# Credits\r\n\r\n* Keith Loy's work at <https://github.com/kloy/behat-rest-testing>\r\n* Chris Cornutt's work at <https://github.com/enygma/behat-fuel-rest>\r\n","google":"","name":"Behat-rest-testing","tagline":"Demo on how to do feature tests with Behat and how to start writing feature tests for REST APIs."}